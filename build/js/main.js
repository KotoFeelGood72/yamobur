let $body,windowHeight,windowWidth,degree=.0174532925,mediaPoint1=1024,mediaPoint2=768,mediaPoint3=480,mediaPoint4=320,devStatus="development"===window.productionStatus;function loadFunc(){calcViewportHeight()}function resizeFunc(){updateSizes(),calcViewportHeight()}function scrollFunc(){}function calcViewportHeight(){if(isMobile.apple.phone||isMobile.android.phone||isMobile.seven_inch){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}}function updateSizes(){windowWidth=window.innerWidth,windowHeight=window.innerHeight}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}function getRandom(e,t){return Math.random()*(t-e)+e}gsap.registerPlugin(ScrollTrigger),$(document).ready((function(e){$body=e("body"),devStatus&&(pageWidget(["index"]),pageWidget(["catalog"]),pageWidget(["single-product"]),pageWidget(["single-service"]),pageWidget(["service"]),pageWidget(["payment"]),pageWidget(["about"]),pageWidget(["contacts"]),pageWidget(["policy"]),pageWidget(["404"]),getAllClasses("html",".elements_list"))})),$(window).on("load",(function(){updateSizes(),loadFunc(),windowWidth>mediaPoint1&&allDefautAnim(),$("#map")[0]&&map(),allPopup()})),$(window).on("resize",(function(){resizeFunc()})),$(window).on("scroll",(function(){scrollFunc()})),"objectFit"in document.documentElement.style==!1&&document.addEventListener("DOMContentLoaded",(function(){Array.prototype.forEach.call(document.querySelectorAll("img[data-object-fit]"),(function(e){(e.runtimeStyle||e.style).background='url("'+e.src+'") no-repeat 50%/'+(e.currentStyle?e.currentStyle["object-fit"]:e.getAttribute("data-object-fit")),e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e.width+"' height='"+e.height+"'%3E%3C/svg%3E"}))}));var styles=["color: red","background: transparent"].join(";"),message="Developed by KotoFeelGood";function map(){ymaps.ready((function(){var e=new ymaps.Map("map",{center:[60.144095,29.930985],zoom:16,scroll:!1},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark(e.getCenter(),{balloonContent:"ул. Петровская, 53 Санкт-Петербург, Россия"},{iconLayout:"default#image",iconImageHref:"/i/global/contacts_map.svg",iconImageSize:[51,64],iconImageOffset:[-5,-38]});e.geoObjects.add(t)}))}console.info("%c%s",styles,message);const tehnicSlider=new Swiper(".tehnic_slider",{centeredSlides:!0,centeredSlidesBounds:!0,breakpoints:{320:{slidesPerView:1,spaceBetween:50,freeMode:!1},480:{slidesPerView:1,spaceBetween:50,freeMode:!1},640:{slidesPerView:3.8,spaceBetween:50}},navigation:{prevEl:".prev",nextEl:".next"},pagination:{el:".tehnic_slide_pag"}}),reviewsSlider=new Swiper(".reviews_slider",{speed:500,breakpoints:{320:{slidesPerView:1,spaceBetween:50,freeMode:!1},480:{slidesPerView:1,spaceBetween:50,freeMode:!1},640:{slidesPerView:1.95,spaceBetween:30}},navigation:{prevEl:".reviewsPrev",nextEl:".reviewsNext"},pagination:{el:".rev_slide_pag"}}),otherSlider=Array.from(document.querySelectorAll(".other_slider")).map(((e,t)=>new Swiper(e,{speed:500,navigation:{nextEl:".otherNext",prevEl:".otherPrev"},breakpoints:{320:{slidesPerView:1,spaceBetween:10,freeMode:!1},480:{slidesPerView:2,spaceBetween:20,freeMode:!1},640:{slidesPerView:4,spaceBetween:30}},pagination:{el:".other_pag",dynamicBullets:!0}}))),productsSlider=new Swiper(".products_slider",{spaceBetween:50,pagination:{el:".product_slider_pug"}}),showMore=document.querySelector(".aboutGallery_btn");function showWork(){const e=document.querySelectorAll(".aboutGallery_item").length;let t=6;showMore.addEventListener("click",(o=>{o.preventDefault(),t+=3;const i=Array.from(document.querySelector(".aboutGallery_list").children).slice(0,t);i.forEach((e=>e.classList.add("is-visible"))),i.length===e&&showMore.classList.add("hidden")}))}function accordion(e,t){let o=$(e),i=$(t);$(i).hide(),$(o).on("click",(function(){let e=$(this);e.parent().toggleClass("active_mod").siblings().removeClass("active_mod"),$(i).slideUp(),e.next().is(":visible")||e.next().slideDown()}))}showMore&&showWork(),accordion(".faq_item_head",".faq_item_content");var header=$(".header"),scrollPrev=0;function succes(e){$(e).toggleClass("active"),setTimeout((function(){$(e).removeClass("active")}),3e3)}function close(e){$(e).toggleClass("active"),setTimeout((function(){$(e).removeClass("active")}),3e3)}function allPopup(){const e=document.querySelectorAll(".trigger_form"),t=document.querySelector(".popup_form"),o=document.querySelectorAll(".close_popups"),i=document.querySelector(".popup_form_btn"),r=document.querySelectorAll('input[type="submit"]'),n=document.querySelector(".header_burger_trigger"),a=document.querySelector(".popup_burger"),s=document.querySelectorAll(".closer_burger"),c=document.querySelector("body");n.addEventListener("click",(()=>{a.classList.add("active"),c.classList.add("active")})),Array.from(s).map((e=>{e.addEventListener("click",(()=>{a.classList.remove("active"),c.classList.remove("active")}))})),Array.from(e).map((e=>{e.addEventListener("click",(e=>{e.preventDefault(),t.classList.add("active"),c.classList.add("active")}))})),Array.from(o).map((e=>{e.addEventListener("click",(e=>{t.classList.remove("active"),c.classList.remove("active")}))})),i.addEventListener("click",(()=>{t.classList.remove("active"),c.classList.remove("active"),setTimeout((()=>{succes(".succes")}),300)})),Array.from(r).map((e=>{e.addEventListener("click",(()=>{setTimeout((()=>{close(".close")}),300)}))}))}function paralax(e=!1,t="-=60% top",o="bottom"){Array.from(document.querySelectorAll(".paralaxSection")).map((function(i){Array.from(i.querySelectorAll(".paralaxEl")).map((function(r){const n=gsap.timeline();ScrollTrigger.create({animation:n,trigger:i,start:t,end:o,scrub:2,ease:"none"}),n.to(r,{y:t=>(!!e&&i.offsetHeight||-i.offsetHeight)*(r.dataset.ratio||.2)})}))}))}function allDefautAnim(e=!1,t="-=30% center",o="bottom"){Array.from(document.querySelectorAll(".sec_anim")).map((function(e){Array.from(e.querySelectorAll(".el_anim")).map((function(i,r){const n=gsap.timeline();ScrollTrigger.create({animation:n,trigger:e,start:t,end:o,ease:"none"}),n.fromTo(i,{y:100,duration:.4,autoAlpha:0},{y:0,autoAlpha:1,delay:.1+.1*r})}))}));paralax()}$(window).scroll((function(){var e=$(window).scrollTop();e>100&&e>scrollPrev?header.addClass("out"):header.removeClass("out"),scrollPrev=e})),$(window).on("scroll",(function(){var e=$(this).scrollTop();e>107&&$(".header").addClass("fixed"),e<=107&&$(".header").removeClass("fixed")})),$(".popup_form_btn").click((()=>{succes(".succes"),$(".popup_form").removeClass("active")}));